# Basic Example

This is the most basic example of running the module.
This example has the most assumptions and performs the easiest path for the code.
WARNING! This downloads files from the Rancher/Rke2 code repo "releases" that are a bit large ( >1GB).

Assumptions:

- you have Nix installed and you are in the nix-shell generated by the flake.nix file in the base of this repo

  - or that you have the correct dependencies installed locally to run this module
- you are using the latest version of Terraform (or at least the latest version published to Nix packages, 1.5+)
- you are able to connect to the internet
- you have github access and you have set the `GITHUB_TOKEN` environment variable to a GitHub token
- you have read access to the rke2 code repository in GitHub
- you are sourcing the .envrc and you have the proper rc files in the proper places so they can be sourced as well

  - to access AWS for server and access modules you should have an rc file at `~/.config/aws/default/rc`

    - the rc should have export statements (it will be sourced) for AWS access

      ```
      export AWS_ACCESS_KEY_ID='ABC123'
      export AWS_SECRET_ACCESS_KEY='abc123'
      export AWS_REGION='us-west-1'
      ```
- you have at least 2GB storage space available on the local filesystem to download the artifacts
- you have an ssh agent running on your system and you have the key loaded that you want to use to access the server



## Known Issues

- if you download the images as one type, don't remove them then change the type
  - the 'file' external data provider doesn't see the change and doesn't remove the old files
  - if you are going to change the type, please delete any files of the previous type
